(function(t){function e(e){for(var a,o,s=e[0],c=e[1],d=e[2],l=0,u=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);m&&m(e);while(u.length)u.shift()();return r.push.apply(r,d||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,s=1;s<i.length;s++){var c=i[s];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},n={app:0},r=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/nextbus_fan/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var m=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var a=i("85ec"),n=i.n(a);n.a},"0ff2":function(t,e,i){t.exports=i.p+"img/11R.e61bb6c0.png"},"115a":function(t,e,i){t.exports=i.p+"img/11A.97a08bae.png"},1179:function(t,e,i){t.exports=i.p+"img/13A.8e41a988.png"},"140e":function(t,e,i){t.exports=i.p+"img/17A.05ae3aa5.png"},"1f9f":function(t,e,i){},"1fe6":function(t,e,i){t.exports=i.p+"img/15R.3dcc07b4.png"},"2a71":function(t,e,i){t.exports=i.p+"img/1R.57affd00.png"},3607:function(t,e,i){t.exports=i.p+"img/NEXTBUS_LOGO.d01ee3b6.png"},"36b9":function(t,e,i){t.exports=i.p+"img/FUTSA.951cbb39.png"},"40d0":function(t,e,i){},"439f":function(t,e,i){t.exports=i.p+"img/03R.ec50e0f0.png"},"4b58":function(t,e,i){t.exports=i.p+"img/CMA.84fb03af.png"},"4c13":function(t,e,i){t.exports=i.p+"img/16R.2569cd55.png"},"4db1":function(t,e,i){t.exports=i.p+"img/07A.019aab98.png"},"4dc1":function(t,e,i){var a={"./02.png":"c020","./03A.png":"f81c","./03R.png":"439f","./04A.png":"b8d9","./04R.png":"91f3","./05A.png":"f433","./05R.png":"92b6","./06A.png":"d997","./06R.png":"9a89","./07A.png":"4db1","./07R.png":"5985","./08A.png":"a27a","./08R.png":"617e","./09A.png":"d2a0","./09R.png":"67b3","./10A.png":"8910","./10R.png":"cc26","./11A.png":"115a","./11R.png":"0ff2","./12A.png":"cda2","./12R.png":"a86c","./13A.png":"1179","./13R.png":"f69d","./14A.png":"db8e","./14R.png":"df65","./15A.png":"5cf2","./15R.png":"1fe6","./16A.png":"b07e","./16R.png":"4c13","./17A.png":"140e","./17R.png":"b991","./1A.png":"df5b","./1R.png":"2a71","./CA.png":"fd78","./CMA.png":"4b58","./CMR.png":"84aa","./CR.png":"7745","./FUTSA.png":"36b9","./FUTSR.png":"a689","./GA.png":"7fce","./GR.png":"b38c","./NPA.png":"d3eb","./_A.png":"65bd"};function n(t){var e=r(t);return i(e)}function r(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=r,t.exports=n,n.id="4dc1"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed-last"}},[a("md-app-toolbar",{staticClass:"md-large md-dense md-primary"},[a("div",{staticClass:"md-toolbar-row"},[a("div",{staticClass:"md-toolbar-section-start"},[a("img",{attrs:{src:i("3607"),width:"150"}})]),a("div",{staticClass:"md-toolbar-section-end"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.checkAutenticazione(),expression:"checkAutenticazione()"}]},[t._v(" Ciao "),a("b",[t._v(t._s(t.getUsername()))]),t._v("! ")]),t.checkAutenticazione()?a("md-button",{staticClass:"md-icon-button",on:{click:function(e){return t.logout()}}},[a("md-icon",[t._v("exit_to_app")])],1):a("md-button",{staticClass:"md-icon-button",on:{click:function(e){return t.login()}}},[a("md-icon",[t._v("account_circle")])],1)],1)]),a("div",{staticClass:"md-toolbar-row"},[a("md-tabs",{staticClass:"md-primary",attrs:{"md-alignment":"centered","md-sync-route":""}},[a("md-tab",{attrs:{id:"tab-pianifica","md-icon":"explore","md-label":"Pianifica",to:"/pianifica"}}),a("md-tab",{attrs:{id:"tab-linee","md-icon":"timeline","md-label":"Linee",to:"/linee"}}),a("md-tab",{attrs:{id:"tab-preferiti","md-icon":"favorite","md-label":"Preferiti",to:"/preferiti"}}),a("md-tab",{attrs:{id:"tab-tariffe","md-icon":"confirmation_number","md-label":"Tariffe",to:"/tariffe"}})],1)],1)]),a("md-app-content",[a("router-view",{staticClass:"margin"})],1)],1)],1)},r=[],o=(i("fb6a"),{login:function(t){t=t.toLowerCase();var e=t.charAt(0).toUpperCase()+t.slice(1);localStorage.setItem("username",e)},getUsername:function(){return localStorage.getItem("username")},isLoggedIn:function(){return!!localStorage.getItem("username")},logout:function(){localStorage.removeItem("username")}}),s={data:function(){return{}},methods:{checkAutenticazione:function(){return o.isLoggedIn()},login:function(){this.$router.push("/accesso")},logout:function(){o.logout(),this.$router.go()},getUsername:function(){return o.getUsername()}}},c=s,d=(i("034f"),i("2877")),m=Object(d["a"])(c,n,r,!1,null,null,null),l=m.exports,u=i("8c4f"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-dialog-prompt",{attrs:{"md-active":t.activeDialog,"md-title":"Effettua l'accesso","md-input-maxlength":"15","md-input-placeholder":"Inserisci il tuo nome...","md-confirm-text":"Inserisci","md-cancel-text":"Annulla"},on:{"update:mdActive":function(e){t.activeDialog=e},"update:md-active":function(e){t.activeDialog=e},"md-confirm":t.login,"md-cancel":t.annulla},model:{value:t.inserimentoNomeUtente,callback:function(e){t.inserimentoNomeUtente=e},expression:"inserimentoNomeUtente"}})],1)},f=[],g={data:function(){return{activeDialog:!0,inserimentoNomeUtente:""}},methods:{login:function(){o.login(this.inserimentoNomeUtente),this.$router.go(-1)},annulla:function(){this.$router.go(-1)}}},v=g,h=Object(d["a"])(v,p,f,!1,null,null,null),b=h.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"md-layout md-alignment-top-center"},[i("form",{staticClass:"md-layout md-alignment-center-center md-layout-item md-small-size-80 md-xsmall-size-90",class:{"md-size-60":!t.sending,"md-size-40":t.sending},attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit()}}},[i("md-card",{staticClass:"md-layout-item md-size-90"},[i("md-card-header",[i("div",{staticClass:"md-title"},[t._v("Pianifica il tuo viaggio")])]),i("md-card-content",[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-size-100"},[i("label",{staticClass:"md-subheading"},[t._v("Partenza")]),i("md-field",{class:t.getValidationClass("indirizzoP")},[i("label",[t._v("Luogo, indirizzo...")]),i("md-input",{model:{value:t.form.indirizzoP,callback:function(e){t.$set(t.form,"indirizzoP",e)},expression:"form.indirizzoP"}}),t.$v.form.indirizzoP.required?t.$v.form.indirizzoP.minlength?t._e():i("span",{staticClass:"md-error"},[t._v("Devi inserire almeno 3 caratteri")]):i("span",{staticClass:"md-error"},[t._v("L'indirizzo di partenza è necessario")])],1)],1),i("div",{staticClass:"md-layout-item md-size-100 md-layout md-alignment-center-right"},[i("md-button",{staticClass:"md-icon-button md-raised md-accent",attrs:{disabled:null==t.form.indirizzoA||""==t.form.indirizzoA||null==t.form.indirizzoP||""==t.form.indirizzoP},on:{click:function(e){return t.swapText()}}},[i("md-icon",[t._v("swap_vert")])],1)],1),i("div",{staticClass:"md-layout-item md-size-100"},[i("label",{staticClass:"md-subheading"},[t._v("Arrivo")]),i("md-field",{class:t.getValidationClass("indirizzoA")},[i("label",[t._v("Luogo o indirizzo...")]),i("md-input",{model:{value:t.form.indirizzoA,callback:function(e){t.$set(t.form,"indirizzoA",e)},expression:"form.indirizzoA"}}),t.$v.form.indirizzoA.required?t.$v.form.indirizzoA.minlength?t._e():i("span",{staticClass:"md-error"},[t._v("Devi inserire almeno 3 caratteri")]):i("span",{staticClass:"md-error"},[t._v("L'indirizzo di arrivo è necessario")])],1)],1),i("div",{staticClass:"md-layout-item md-size-100 md-layout md-alignment-center-space-between"},[i("label",{staticClass:"md-subheading md-layout-item md-size-100"},[t._v("Data e ora della partenza")]),i("div",{staticClass:"md-layout-item md-size-50 md-xsmall-size-100"},[i("md-datepicker",{class:t.getValidationClass("dataPartenza"),attrs:{"md-open-on-focus":!0,"md-immediately":""},model:{value:t.form.dataPartenza,callback:function(e){t.$set(t.form,"dataPartenza",e)},expression:"form.dataPartenza"}},[i("label",[t._v("Seleziona la data")]),t.$v.form.dataPartenza.required?t._e():i("span",{staticClass:"md-error"},[t._v("Devi selezionare una data")])])],1),i("div",{staticClass:"md-layout-item md-size-40 md-layout md-alignment-center-center md-xsmall-size-100"},[i("md-field",{class:t.getValidationClass("oraPartenza")},[i("label",[t._v("Seleziona l'ora (hh:mm)")]),i("md-input",{attrs:{type:"time"},model:{value:t.form.oraPartenza,callback:function(e){t.$set(t.form,"oraPartenza",e)},expression:"form.oraPartenza"}}),t.$v.form.oraPartenza.required?t._e():i("span",{staticClass:"md-error"},[t._v("Devi selezionare un'ora")])],1)],1)])])]),i("md-card-actions",{staticClass:"md-layout md-alignment-center-right"},[i("md-button",{staticClass:"md-layout-item md-size-20 md-xsmall-size-100",attrs:{type:"reset"},on:{click:function(e){return t.clearForm()}}},[t._v("Annulla")]),i("md-button",{staticClass:"md-layout-item md-size-20 md-xsmall-size-100 md-primary",attrs:{type:"submit"}},[t._v("Cerca")])],1)],1)],1),t.checkAutenticazione()&&t.activeUltimeRicerche?i("md-card",{staticClass:"md-layout-item md-size-35 md-small-size-80 md-xsmall-size-90 margin-mobile"},[i("md-card-header",[i("div",{staticClass:"md-title"},[t._v("Ultime ricerche")])]),i("md-card-content",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-size-5"},[i("md-progress-spinner",{directives:[{name:"show",rawName:"v-show",value:t.activeSpinner,expression:"activeSpinner"}],attrs:{"md-mode":"indeterminate"}})],1),i("md-list",{staticClass:"md-triple-line md-layout-item md-size-100"},t._l(t.arrayUltimeRicerche,(function(e,a){return i("div",{key:a},[i("md-list-item",[i("md-icon",{staticClass:"md-primary"},[t._v("history")]),i("div",{staticClass:"md-list-item-text"},[i("span",[t._v("Partenza: "+t._s(e.indirizzoPartenza))]),i("span",[t._v("Arrivo: "+t._s(e.indirizzoArrivo))]),i("span",[t._v("Data: "+t._s(e.dataPartenza)+" | Ora: "+t._s(e.oraPartenza))])]),i("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(i){return t.ricerca(e)}}},[i("md-icon",[t._v("search")])],1)],1),i("md-divider")],1)})),0)],1)],1):t._e(),i("div",{staticClass:"md-layout-item md-small-size-80 ms-xsmall-size-90 margin-mobile",class:{"md-size-50":t.sending,"md-size-100":!t.sending}},[i("router-view")],1)],1)},_=[],y=i("b166"),C=(i("4160"),i("159b"),i("c23d")),A=i.n(C),P=(i("e89a"),{apiKey:"AIzaSyDlmXCeXTgEEgjlQJ1fRUJGITc1ujPlW7g",authDomain:"nextbus-38e73.firebaseapp.com",projectId:"nextbus-38e73"});A.a.initializeApp(P);var S=A.a.firestore(),R=S.collection("elementiPreferiti"),w=S.collection("ultimeRicerche"),x={getLineePreferite:function(){var t=o.getUsername().toLowerCase(),e=[];return R.where("username","==",t).get().then((function(t){return t.forEach((function(t){e.push(t.data())})),e}))},setLineaPreferita:function(t){var e=o.getUsername().toLowerCase();return R.add({idLinea:t,username:e})},rimuoviLineaPreferita:function(t){var e=o.getUsername().toLowerCase();return R.where("idLinea","==",t).where("username","==",e).get().then((function(t){t.forEach((function(t){return R.doc(t.id).delete()}))}))},getLineaSingolaPreferita:function(t){var e=o.getUsername().toLowerCase(),i=[];return R.where("idLinea","==",t).where("username","==",e).get().then((function(t){return t.forEach((function(t){i.push(t.data())})),i}))},salvaUltimaRicerca:function(t,e,i,a){var n=o.getUsername().toLowerCase();w.where("username","==",n).get().then((function(r){var o=0,s=0,c=Date.now()+"";r.forEach((function(i){i.data().timestamp<c&&(c=i.data().timestamp),i.data().indirizzoArrivo==t&&i.data().indirizzoPartenza==e&&s++,o++})),o>=5&&w.where("timestamp","==",c).where("username","==",n).get().then((function(t){t.forEach((function(t){w.doc(t.id).delete()}))})),0==s&&w.add({dataPartenza:i,indirizzoArrivo:t,indirizzoPartenza:e,oraPartenza:a,timestamp:Date.now(),username:n})}))},getUltimeRicerche:function(){var t=o.getUsername().toLowerCase();return w.where("username","==",t).get().then((function(t){var e=[];return t.forEach((function(t){e.push(t.data())})),e}))}},L=i("1dce"),k=i("b5ae"),$=i("2ef0"),T={mixins:[L["validationMixin"]],data:function(){return{form:{indirizzoP:null,indirizzoA:null,dataPartenza:Object(y["a"])(new Date,"dd/MM/yyyy"),oraPartenza:Object(y["a"])(new Date,"HH:mm")},sending:!1,activeUltimeRicerche:!0,arrayUltimeRicerche:[],activeSpinner:!0}},validations:{form:{indirizzoP:{required:k["required"],minLength:Object(k["minLength"])(2)},indirizzoA:{required:k["required"],minLength:Object(k["minLength"])(2)},dataPartenza:{required:k["required"]},oraPartenza:{required:k["required"]}}},created:function(){this.caricaUltimeRicerche()},methods:{caricaUltimeRicerche:function(){var t=this;this.checkAutenticazione()&&x.getUltimeRicerche().then((function(e){t.arrayUltimeRicerche=e,t.ordinaRicerche(),0==t.arrayUltimeRicerche.length&&(t.activeUltimeRicerche=!1),t.activeSpinner=!1}))},ricerca:function(t){this.form.indirizzoP=t.indirizzoPartenza,this.form.indirizzoA=t.indirizzoArrivo,this.form.dataPartenza=t.dataPartenza,this.form.oraPartenza=t.oraPartenza;var e={indirizzoP:t.indirizzoPartenza,indirizzoA:t.indirizzoArrivo,dataPartenza:t.dataPartenza,oraPartenza:t.oraPartenza};this.sending=!0,this.activeUltimeRicerche=!1,this.$router.push({path:"/pianifica/viaggio",query:Object.assign({},this.$route.query,e)})},ordinaRicerche:function(){var t=function(t,e){var i=t.timestamp,a=e.timestamp,n=0;return i>a?n=-1:i<a&&(n=1),n};this.arrayUltimeRicerche.sort(t)},getValidationClass:function(t){var e=this.$v.form[t];if(e)return{"md-invalid":e.$invalid&&e.$dirty}},clearForm:function(){this.$v.$reset(),this.form.indirizzoP=null,this.form.indirizzoA=null,this.form.dataPartenza=Object(y["a"])(new Date,"dd/MM/yyyy"),this.form.oraPartenza=Object(y["a"])(new Date,"HH:mm"),this.sending=!1,this.activeUltimeRicerche=!0,this.caricaUltimeRicerche(),this.$router.push("/pianifica")},submit:function(){if(this.$v.$touch(),!this.$v.$invalid){var t={indirizzoP:this.form.indirizzoP,indirizzoA:this.form.indirizzoA,dataPartenza:this.form.dataPartenza,oraPartenza:this.form.oraPartenza};this.sending=!0,this.activeUltimeRicerche=!1,this.$router.push({path:"/pianifica/viaggio",query:Object.assign({},this.$route.query,t)})}},swapText:function(){if(""!=this.form.indirizzoA&&""!=this.form.indirizzoP){var t=this.form.indirizzoP;this.form.indirizzoP=this.form.indirizzoA,this.form.indirizzoA=t}},checkAutenticazione:function(){return o.isLoggedIn()}},watch:{$route:function(t){this.sending=!0,this.activeUltimeRicerche=!1,$.isEmpty(t.query)&&(this.sending=!1,this.activeUltimeRicerche=!0,this.caricaUltimeRicerche())}}},D=T,B=(i("60a7"),Object(d["a"])(D,z,_,!1,null,"786ada8d",null)),U=B.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"md-layout-item md-size-100"},[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-size-100 md-title"},[t._v("Risultati della ricerca")]),i("div",{staticClass:"md-layout-item md-size-10"},[i("md-progress-spinner",{directives:[{name:"show",rawName:"v-show",value:t.activeSpinner,expression:"activeSpinner"}],staticClass:"md-layout-item",attrs:{"md-mode":"indeterminate"}})],1),i("md-list",{staticClass:"md-layout-item md-size-100 md-triple-line",attrs:{"md-expand-single":"true"}},t._l(t.risultati,(function(e,a){return i("div",{key:a},[i("md-list-item",{attrs:{"md-expand":""}},[e.walkingDuration==e.duration/1e3?i("md-icon",[t._v("directions_walk")]):t._e(),e.walkingDuration!=e.duration/1e3?i("md-icon",[t._v("directions_bus")]):t._e(),i("div",{staticClass:"md-list-item-text"},[i("span",[t._v(" Partenza "),i("b",[t._v(t._s(t.convertTimestampToTime(e.startime)))])]),i("span",[t._v(" Arrivo "),i("b",[t._v(t._s(t.convertTimestampToTime(e.endtime)))])]),i("span",[t._v(" Durata "),i("b",[t._v(t._s(t.msToHMS(e.duration)))])])]),i("md-list",{staticClass:"md-triple-line",attrs:{slot:"md-expand"},slot:"md-expand"},t._l(e.leg,(function(e,a){return i("md-list-item",{key:e.endtime,staticClass:"md-inset"},["WALK"==e.transport.type?i("md-avatar",{staticClass:"md-avatar-icon"},[i("md-icon",[t._v("directions_walk")])],1):t._e(),"BUS"==e.transport.type&&12!=e.transport.agencyId?i("md-avatar",{staticClass:"md-avatar-icon"},[i("md-icon",[t._v("directions_bus")])],1):t._e(),"BUS"==e.transport.type&&12==e.transport.agencyId?i("md-avatar",[i("img",{attrs:{src:t.getImageFromId(e.transport.routeId)}})]):t._e(),"TRAIN"==e.transport.type?i("md-avatar",{staticClass:"md-avatar-icon"},[i("md-icon",[t._v("train")])],1):t._e(),i("div",{staticClass:"md-list-item-text"},["BUS"==e.transport.type&&12!=e.transport.agencyId?i("span",[t._v(t._s(a+1)+") Linea: "+t._s(e.transport.routeShortName)+" | P: "+t._s(e.from.name))]):i("span",[t._v(t._s(a+1)+") P: "+t._s(e.from.name))]),i("span",[t._v("A: "+t._s(e.to.name))]),i("span",[t._v("Partenza alle: "+t._s(t.convertTimestampToTime(e.startime)))])])],1)})),1)],1),i("md-divider")],1)})),0)],1),t.showSBErrore?i("md-empty-state",{attrs:{"md-icon":"error","md-label":"C'è stato un errore nella ricerca","md-description":"Clicca su riprova e reinserisci la partenza e la destinazione."}}):t._e(),t.zeroRisultati?i("md-empty-state",{attrs:{"md-icon":"search_off","md-label":"La ricerca non ha prodotto risultati","md-description":"Prova a cambiare partenza e arrivo"}}):t._e(),i("md-snackbar",{attrs:{"md-active":t.showSBErrore,"md-duration":t.duration},on:{"update:mdActive":function(e){t.showSBErrore=e},"update:md-active":function(e){t.showSBErrore=e}}},[i("span",[t._v("La ricerca non è andata a buon fine!")]),i("md-button",{staticClass:"md-primary",on:{click:function(e){return t.ricercaFallita()}}},[t._v("Riprova")])],1)],1)},O=[],F=(i("a15b"),i("d3b7"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("1276"),i("bc3a")),I=i.n(F),E={getLinee:function(t){return I.a.get("https://os.smartcommunitylab.it/core.mobility/getroutes/"+t)},getLineaSingolaConOrario:function(t,e){return I.a.get("https://os.smartcommunitylab.it/core.mobility/timetable/"+t+"/"+e)},getLineaSingolaAccessibilita:function(t,e){return I.a.get("https://os.smartcommunitylab.it/core.mobility/getstops/"+t+"/"+e)},getRisultatiGeograficiDaInserimento:function(t){return I.a.get("https://api.opencagedata.com/geocode/v1/json",{params:{key:"b57949a16e3e423da14bb1d689d09c4c",q:t,countrycode:"it",language:"it"}})},getRisultatiPercorso:function(t,e,i,a){return I.a.post("https://dev.smartcommunitylab.it/core.mobility/plansinglejourney/",{from:{lon:t.lng,lat:t.lat},to:{lon:e.lng,lat:e.lat},transportTypes:["TRANSIT","WALK"],departureTime:a,date:i,routeType:"fastest",resultsNumber:5})},richiestaDatiPA:function(t,e){var i=this.getRisultatiGeograficiDaInserimento(t),a=this.getRisultatiGeograficiDaInserimento(e);return I.a.all([i,a]).then(I.a.spread((function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e})))},pianificaViaggio:function(t,e,i,a){var n=this,r={lat:"",lng:""},o={lat:"",lng:""};return this.richiestaDatiPA(t,e).then((function(t){return console.warn("Richieste rimanenti opencagedata.com: "+t[1].data.rate.remaining),r.lat=t[0].data.results[0].geometry.lat,r.lng=t[0].data.results[0].geometry.lng,o.lat=t[1].data.results[0].geometry.lat,o.lng=t[1].data.results[0].geometry.lng,n.getRisultatiPercorso(r,o,i,a)}))}},q=i("2ef0"),j={data:function(){return{risultati:[],indirizzoP:"",indirizzoA:"",dataPartenza:"",oraPartenza:"",activeSpinner:!0,showSBErrore:!1,duration:1/0,zeroRisultati:!1}},methods:{getImageFromId:function(t){return"Ca"==t?t="CA":"Cr"==t&&(t="CR"),i("4dc1")("./"+t+".png")},convertTimestampToTime:function(t){var e=new Date(t),i=e.getHours(),a="0"+e.getMinutes();return i+":"+a.substr(-2)},msToHMS:function(t){function e(t,e){return e=e||2,("00"+t).slice(-e)}var i=t%1e3;t=(t-i)/1e3;var a=t%60;t=(t-a)/60;var n=t%60,r=(t-n)/60;return e(r)+":"+e(n)+":"+e(a)},tConvert:function(t){return t=t.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[t],t.length>1&&(t=t.slice(1),t[5]=+t[0]<12?"AM":"PM",t[0]=+t[0]%12||12),t.join("")},ordinaRisultati:function(){var t=function(t,e){var i=t.endtime,a=e.endtime,n=0;return i>a?n=1:i<a&&(n=-1),n};this.risultati.sort(t)},loadViaggio:function(){var t=this;this.indirizzoP=this.$route.query.indirizzoP,this.indirizzoA=this.$route.query.indirizzoA;var e=this.$route.query.dataPartenza.split("/");this.dataPartenza=Object(y["a"])(new Date(e[2],e[1]-1,e[0]),"MM/dd/yyyy"),this.oraPartenza=this.tConvert(this.$route.query.oraPartenza),E.pianificaViaggio(this.indirizzoP,this.indirizzoA,this.dataPartenza,this.oraPartenza).then((function(e){t.activeSpinner=!1,t.risultati=e.data,t.ordinaRisultati(),0==e.data.length?(t.zeroRisultati=!0,t.showSBErrore=!1):0!=e.data.length&&(t.zeroRisultati=!1,o.isLoggedIn()&&x.salvaUltimaRicerca(t.indirizzoA,t.indirizzoP,t.$route.query.dataPartenza,t.$route.query.oraPartenza))})).catch((function(){t.showSBErrore=!0,t.zeroRisultati=!1,t.activeSpinner=!1}))},ricercaFallita:function(){this.showSBErrore=!1,this.$router.replace({query:null}),this.$router.push("/pianifica")}},created:function(){this.loadViaggio()},watch:{$route:function(t,e){0==q.isEqual(t.query,e.query)&&(this.activeSpinner=!0,this.loadViaggio())}}},M=j,V=Object(d["a"])(M,N,O,!1,null,"26c20abe",null),G=V.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"md-layout md-alignment-center-center md-size-100"},[t.lineeVuote?t._e():i("div",{staticClass:"md-gutter md-layout-item md-layout md-alignment-center-center md-size-100"},[i("div",{staticClass:"md-layout-item md-layout md-alignment-center-center md-size-60 md-small-size-80 md-xsmall-size-100"},[i("md-tabs",{attrs:{"md-alignment":"fixed"},model:{value:t.valoreAR,callback:function(e){t.valoreAR=e},expression:"valoreAR"}},[i("md-tab",{attrs:{id:"tab-andata","md-label":"ANDATA"},on:{click:function(e){t.valoreAR=!1}}}),i("md-tab",{attrs:{id:"tab-ritorno","md-label":"RITORNO"},on:{click:function(e){t.valoreAR=!0}}})],1),i("div",{staticClass:"md-layout-item md-size-10"},[i("br"),i("md-progress-spinner",{directives:[{name:"show",rawName:"v-show",value:t.activeSpinner,expression:"activeSpinner"}],attrs:{"md-mode":"indeterminate"}})],1)],1),i("md-list",{staticClass:"md-double-line md-layout-item md-size-60 md-small-size-80 md-xsmall-size-90"},t._l(t.linee,(function(e,a){return i("div",{key:e.id.id,class:t.sceltaAR(e.id.id)},[i("md-list-item",{attrs:{to:"/lineaSingola/"+e.id.id+"?routeLongName="+e.routeLongName}},[i("md-avatar",[i("img",{attrs:{src:t.getImageFromId(e.id.id)}})]),i("div",{staticClass:"md-list-item-text"},[i("span",[t._v(t._s(e.routeLongName))]),i("span",[t._v(t._s(e.routeShortName))])]),e.preferiti?t._e():i("md-button",{staticClass:"md-icon-button",on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.addFavoriteLine(e.id.id,e.preferiti,a)}}},[i("md-icon",[t._v("favorite_border")])],1),e.preferiti?i("md-button",{staticClass:"md-icon-button md-primary",on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.addFavoriteLine(e.id.id,e.preferiti,a)}}},[i("md-icon",[t._v("favorite")])],1):t._e()],1),i("md-divider")],1)})),0),i("md-snackbar",{attrs:{"md-active":t.showSBadd,"md-persistent":""},on:{"update:mdActive":function(e){t.showSBadd=e},"update:md-active":function(e){t.showSBadd=e}}},[i("span",[t._v(" La "),i("b",[t._v("linea "+t._s(t.testoSnackbar))]),t._v(" è stata aggiunta ai preferiti. ")])]),i("md-snackbar",{attrs:{"md-active":t.showSBremove,"md-persistent":""},on:{"update:mdActive":function(e){t.showSBremove=e},"update:md-active":function(e){t.showSBremove=e}}},[i("span",[t._v(" La "),i("b",[t._v("linea "+t._s(t.testoSnackbar))]),t._v(" è stata rimossa dai preferiti. ")])])],1),t.lineeVuote?i("div",{staticClass:"md-layout-item md-layout md-alignment-center-center"},[i("md-empty-state",{staticClass:"md-layout-item md-size-80",attrs:{"md-icon":"error_outline","md-label":"Nessuna linea trovata","md-description":"Prova a ricaricare la pagina"}})],1):t._e()])},J=[],W=(i("7db0"),i("c975"),{data:function(){return{linee:[],valoreAR:!1,testoSnackbar:"",showSBadd:!1,showSBremove:!1,activeSpinner:!0,lineeVuote:!1}},created:function(){var t=this;E.getLinee(12).then((function(e){t.linee=e.data,0==t.linee.length&&(t.lineeVuote=!0),t.ordinaLinee(),t.addFavoriteField(t.linee),o.isLoggedIn()&&t.setFavorite(t.linee),t.activeSpinner=!1})).catch((function(e){console.error(e),t.lineeVuote=!0}))},methods:{getImageFromId:function(t){return"Ca"==t?t="CA":"Cr"==t&&(t="CR"),i("4dc1")("./"+t+".png")},addFavoriteField:function(t){var e=this;t.forEach((function(t){e.$set(t,"preferiti",0)}))},setFavorite:function(t){var e=this,i=[];x.getLineePreferite().then((function(a){i=a;for(var n=function(a){var n=t.find((function(t){return t.id.id==i[a].idLinea}));e.$set(n,"preferiti",1)},r=0;r<i.length;r++)n(r)}))},addFavoriteLine:function(t,e,i){var a=this;o.isLoggedIn()||this.$router.push("/accesso"),0==e?x.setLineaPreferita(t).then((function(){a.$set(a.linee[i],"preferiti",1),a.testoSnackbar=a.linee[i].routeShortName,a.showSBadd=!0})):1==e&&x.rimuoviLineaPreferita(t).then((function(){a.$set(a.linee[i],"preferiti",0),a.testoSnackbar=a.linee[i].routeShortName,a.showSBremove=!0}))},sceltaAR:function(t){var e=[];return this.valoreAR?-1==t.indexOf("A")&&"02"!=t&&"Ca"!=t||e.push("md-hide"):-1==t.indexOf("R")&&"Cr"!=t||e.push("md-hide"),e},ordinaLinee:function(){var t=function(t,e){var i=e.id.id.toUpperCase();"1A"==e.id.id?i="01A":"1R"==e.id.id&&(i="01R");var a=t.id.id.toUpperCase(),n=i,r=0;return a>n?r=1:a<n&&(r=-1),r};this.linee.sort(t)}}}),K=W,X=Object(d["a"])(K,H,J,!1,null,null,null),Q=X.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"md-layout md-gutter md-alignment-center-center"},[i("md-table",{staticClass:"md-layout-item md-size-60 md-small-size-80 md-xsmall-size-90",scopedSlots:t._u([{key:"md-table-row",fn:function(e){var a=e.item;return i("md-table-row",{staticClass:"md-layout-item md-size-60 md-small-size-80 md-xsmall-size-90"},[i("md-table-cell",{attrs:{"md-label":"Tipologia Titolo"}},[t._v(t._s(a.tipologiaTitolo))]),i("md-table-cell",{attrs:{"md-label":"Biglietto Singolo"}},[t._v(t._s(a.singolo))]),i("md-table-cell",{attrs:{"md-label":"Carta Scalare"}},[t._v(t._s(a.cartaScalare))]),i("md-table-cell",{attrs:{"md-label":"Mobile Ticket su Smartphone"}},[t._v(t._s(a.mobileTicket))])],1)}}]),model:{value:t.ticketsRates,callback:function(e){t.ticketsRates=e},expression:"ticketsRates"}},[i("md-table-toolbar",[i("h3",[t._v("Tariffe trasporto pubblico urbano Trento")])])],1)],1)},Z=[],tt={name:"TableTemplate",data:function(){return{ticketsRates:[{tipologiaTitolo:"Biglietto urbano valido 70 minuti",singolo:"  € 1.20",cartaScalare:" € 1.10 ",mobileTicket:"  € 1.10 "},{tipologiaTitolo:"Biglietto urbano valido 120 minuti",singolo:" € 1.50 ",cartaScalare:" € 1.40 ",mobileTicket:" € 1.35 "},{tipologiaTitolo:"Biglietto urbano giornaliero",singolo:" € 3.00",cartaScalare:" € 2.80",mobileTicket:" € 2.70"},{tipologiaTitolo:"Corsa semplice venduto a bordo",singolo:" € 2.00 ",cartaScalare:"",mobileTicket:""},{tipologiaTitolo:"Biglietto Funivia solo andata",singolo:" € 3.00 ",cartaScalare:"",mobileTicket:""},{tipologiaTitolo:"Biglietto Funivia andata e ritorno",singolo:" € 5.00 ",cartaScalare:"",mobileTicket:""}]}}},et=tt,it=Object(d["a"])(et,Y,Z,!1,null,null,null),at=it.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"md-layout md-alignment-center-center"},[i("md-card",{staticClass:"md-layout-item md-size-60 md-small-size-80 md-xsmall-size-90"},[i("md-card-header",{staticClass:"md-layout md-gutter md-alignment-center-space-between"},[i("div",{staticClass:"md-layout-item md-size-15 md-xsmall-size-25"},[i("md-menu",[i("md-button",{staticClass:"md-icon-button",attrs:{disabled:t.disabilitaCambioAR,"md-menu-trigger":""}},[i("md-icon",{staticClass:"md-size-2x"},[i("img",{attrs:{src:t.getImageFromId(t.$route.params.id)}})])],1),i("md-menu-content",[i("md-menu-item",{on:{click:function(e){return t.cambioAR(t.$route.params.id)}}},[i("md-icon",[t._v("compare_arrows")]),i("span",[t._v("Cambia direzione")])],1)],1)],1)],1),i("div",{staticClass:"md-layout-item md-size-70 md-xsmall-size-80 md-xsmall-hide"},[i("div",{staticClass:"md-title"},[t._v(t._s(t.$route.query.routeLongName))])]),i("div",{staticClass:"md-layout-item md-size-15 md-xsmall-size-20"},[t.preferito?t._e():i("md-button",{staticClass:"md-icon-button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFavoriteLine(t.$route.params.id,t.preferito)}}},[i("md-icon",[t._v("favorite_border")])],1),t.preferito?i("md-button",{staticClass:"md-icon-button md-primary",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFavoriteLine(t.$route.params.id,t.preferito)}}},[i("md-icon",[t._v("favorite")])],1):t._e()],1)]),i("md-card-expand",{directives:[{name:"show",rawName:"v-show",value:t.mostra,expression:"mostra"}]},[i("md-card-actions",{staticClass:"md-layout md-gutter"},[i("md-button",{staticClass:"md-layout-item md-xsmall-size-20",attrs:{disabled:t.isButtonPrecedenteDisabled},on:{click:t.precedente}},[i("md-icon",[t._v("navigate_before")])],1),i("md-field",{staticClass:"md-layout-item md-xsmall-size-60"},[i("label",[t._v("Partenza alle")]),i("md-select",{model:{value:t.selezionato,callback:function(e){t.selezionato=e},expression:"selezionato"}},t._l(t.orariPartenzaLinea,(function(e,a){return i("md-option",{key:a,attrs:{value:a}},[t._v(t._s(e))])})),1)],1),i("md-button",{staticClass:"md-layout-item md-xsmall-size-20",attrs:{disabled:t.isButtonSuccessivoDisabled},on:{click:t.successivo}},[i("md-icon",[t._v("navigate_next")])],1)],1)],1)],1),i("div",{staticClass:"md-layout md-layout-item md-size-100 md-alignment-center"},[t._m(0),i("md-progress-spinner",{directives:[{name:"show",rawName:"v-show",value:t.caricamento,expression:"caricamento"}],attrs:{"md-mode":"indeterminate"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.orariNonDisponibili,expression:"orariNonDisponibili"}],staticClass:"md-layout-item md-size-100"},[i("md-empty-state",{attrs:{"md-icon":"search_off","md-label":"Orari non disponibili","md-description":"Oggi non passa nessun autobus su questa linea."}})],1),i("md-list",{staticClass:"md-layout-item md-size-60 md-small-size-80 md-xsmall-size-90"},t._l(t.idFermate,(function(e,a){return i("div",{key:a},[""!=t.orari[a]?i("div",[i("md-list-item",[i("md-icon",{staticClass:"md-primary"},[t._v("directions_bus")]),i("div",{staticClass:"md-list-item-text"},[i("span",[t._v(t._s(t.nomeFermate[a]))]),i("span",[t._v("Orario previsto: "+t._s(t.orari[a]))])]),1==t.ritornaAccessibile(t.accessibilita,a)?i("md-icon",{staticClass:"md-primary"},[t._v("accessible")]):t._e()],1)],1):i("div",[i("md-list-item",[i("md-icon",{staticClass:"iconaDisattivata"},[t._v("directions_bus")]),i("div",{staticClass:"md-list-item-text"},[i("span",{staticClass:"testoDisattivato"},[t._v(t._s(t.nomeFermate[a]))])]),1==t.ritornaAccessibile(t.accessibilita,a)?i("md-icon",{staticClass:"iconaDisattivata"},[t._v("accessible")]):t._e()],1)],1),i("md-divider")],1)})),0),i("md-snackbar",{attrs:{"md-active":t.showSBadd,"md-persistent":""},on:{"update:mdActive":function(e){t.showSBadd=e},"update:md-active":function(e){t.showSBadd=e}}},[i("span",[t._v(" La "),i("b",[t._v("linea "+t._s(t.testoSnackbar))]),t._v(" è stata aggiunta ai preferiti. ")])]),i("md-snackbar",{attrs:{"md-active":t.showSBremove,"md-persistent":""},on:{"update:mdActive":function(e){t.showSBremove=e},"update:md-active":function(e){t.showSBremove=e}}},[i("span",[t._v(" La "),i("b",[t._v("linea "+t._s(t.testoSnackbar))]),t._v(" è stata rimossa dai preferiti. ")])])],1)},rt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"md-layout-item md-size-100"},[i("br")])}],ot={data:function(){return{idFermate:[],nomeFermate:[],orari:[],accessibilita:[],accessibile:[],idAgency:12,idRoutes:null,viaggi:[],current:0,isButtonPrecedenteDisabled:!0,isButtonSuccessivoDisabled:!1,orariNonDisponibili:!1,orariPartenzaLinea:[],selezionato:0,preferito:!1,mostra:!0,showSBadd:!1,showSBremove:!1,testoSnackbar:"",caricamento:!0,disabilitaCambioAR:!1}},created:function(){var t=this;switch(this.$route.params.id){case"1A":this.idRoutes="01A";break;case"1R":this.idRoutes="01R";break;case"02":this.idRoutes="02C",this.disabilitaCambioAR=!0;break;case"_A":this.idRoutes="%20AC",this.disabilitaCambioAR=!0;break;case"FUTSR":this.idRoutes="FunR";break;case"FUTSA":this.idRoutes="FunA";break;case"GR":this.idRoutes="%20GR";break;case"GA":this.idRoutes="%20GA";break;case"NPA":this.idRoutes="NPC",this.disabilitaCambioAR=!0;break;default:this.idRoutes=this.$route.params.id}o.isLoggedIn()&&x.getLineaSingolaPreferita(this.$route.params.id).then((function(e){0!=e.length&&(t.preferito=!0)})).catch((function(t){console.error(t)})),E.getLineaSingolaConOrario(this.idAgency,this.idRoutes).then((function(e){t.idFermate=e.data.stopIds,t.nomeFermate=e.data.stopNames,t.viaggi=e.data.trips,t.caricamento=!1,t.orari=t.viaggi[0].stopTimes,t.caricoArraySelect(t.viaggi)})).catch((function(e){console.error(e),t.orariNonDisponibili=!0,t.mostra=!1,t.caricamento=!1})),E.getLineaSingolaAccessibilita(this.idAgency,this.idRoutes).then((function(e){t.accessibilita=e.data})).catch((function(t){console.error(t)}))},methods:{getImageFromId:function(t){return"Ca"==t?t="CA":"Cr"==t&&(t="CR"),i("4dc1")("./"+t+".png")},caricoArraySelect:function(t){for(var e=0,i=0;i<t.length;i++){while(""==t[i].stopTimes[e])e++;this.orariPartenzaLinea.push(t[i].stopTimes[e]),e=0}},ritornaAccessibile:function(t,e){for(var i=0;i<t.length;i++)if(this.idFermate[e]==t[i].id)return t[i].wheelChairBoarding},precedente:function(){this.current-=1,this.current<=0?(this.current=0,this.isButtonPrecedenteDisabled=!0):this.isButtonSuccessivoDisabled=!1,this.orari=this.viaggi[this.current].stopTimes,this.selezionato=this.current},successivo:function(){this.current+=1,this.current>=this.viaggi.length-1?(this.current=this.viaggi.length-1,this.isButtonSuccessivoDisabled=!0):this.isButtonPrecedenteDisabled=!1,this.orari=this.viaggi[this.current].stopTimes,this.selezionato=this.current},cambioAR:function(t){var e;"Ca"==t?e="Cr":"Cr"==t&&(e="Ca"),-1!=t.indexOf("A")?e=t.replace("A","R"):-1!=t.indexOf("R")&&(e=t.replace("R","A")),this.$router.replace({params:{id:e},query:{routeLongName:this.$route.query.routeLongName}}),this.$router.go()},addFavoriteLine:function(t,e){var i=this;o.isLoggedIn()||this.$router.push("/accesso"),0==e?x.setLineaPreferita(t).then((function(){i.preferito=!0,i.showSBadd=!0,i.testoSnackbar=i.$route.query.routeLongName})):1==e&&x.rimuoviLineaPreferita(t).then((function(){i.preferito=!1,i.showSBremove=!0,i.testoSnackbar=i.$route.query.routeLongName}))}},watch:{selezionato:function(){this.current=this.selezionato,this.orari=this.viaggi[this.current].stopTimes,0==this.current&&(this.isButtonPrecedenteDisabled=!0,this.isButtonSuccessivoDisabled=!1),this.current==this.viaggi.length-1&&(this.isButtonSuccessivoDisabled=!0,this.isButtonPrecedenteDisabled=!1),0!=this.current&&this.current!=this.viaggi.length-1&&(this.isButtonSuccessivoDisabled=!1,this.isButtonPrecedenteDisabled=!1)}}},st=ot,ct=(i("d87d"),Object(d["a"])(st,nt,rt,!1,null,"66b2d04a",null)),dt=ct.exports,mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"md-layout md-alignment-center-center"},[t.checkAutenticazione()?t._e():i("md-empty-state",{attrs:{"md-icon":"account_circle","md-label":"Visualizza i tuoi preferiti","md-description":"Per poter salvare fermate e linee preferite devi effettuare l'accesso"}},[i("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/accesso"}},[t._v("Accedi")])],1),t.checkAutenticazione()?i("md-card",{staticClass:"md-layout-item md-size-60 md-small-size-80 md-xsmall-size-90"},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title"},[t._v("Lista dei preferiti")]),i("div",{staticClass:"md-subhead"},[t._v("Le linee preferite verranno visualizzate qui")])])],1),i("md-card-content",{staticClass:"content"},[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-size-5"},[i("md-progress-spinner",{directives:[{name:"show",rawName:"v-show",value:t.activeSpinner,expression:"activeSpinner"}],attrs:{"md-mode":"indeterminate"}})],1),t.shownedEmptyState?t._e():i("md-list",{staticClass:"md-layout-item md-size-100"},t._l(t.lineePreferite,(function(e,a){return i("div",{key:e.idLinea},[i("md-list-item",{attrs:{to:"/lineaSingola/"+e.idLinea+"?routeLongName="+t.returnLineaSingola(e.idLinea).routeLongName}},[i("md-avatar",[i("img",{attrs:{src:t.getImageFromId(e.idLinea)}})]),i("span",{staticClass:"md-list-item-text"},[t._v(t._s(t.returnLineaSingola(e.idLinea).routeLongName))]),i("md-button",{staticClass:"md-icon-button md-primary",on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.addFavoriteLine(e.idLinea,1,a)}}},[i("md-icon",[t._v("favorite")])],1)],1),i("md-divider")],1)})),0),t.shownedEmptyState?i("md-empty-state",{attrs:{"md-icon":"favorite_border","md-label":"Non hai ancora preferiti","md-description":"Se vuoi visualizzare qui le linee che consulti più spesso vai alla pagina Linee."}},[i("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/linee"}},[t._v("Pagina linee")])],1):t._e(),t.showErrore?i("md-empty-state",{attrs:{"md-icon":"error","md-label":"C'è stato un errore nel caricamento dei preferiti","md-description":"Prova a ricaricare la pagina."}}):t._e()],1)])],1):t._e()],1),i("md-snackbar",{attrs:{"md-active":t.showSBremove,"md-persistent":""},on:{"update:mdActive":function(e){t.showSBremove=e},"update:md-active":function(e){t.showSBremove=e}}},[i("span",[t._v(" La "),i("b",[t._v("linea "+t._s(t.testoSnackbar))]),t._v(" è stata rimossa dai preferiti. ")])])],1)},lt=[],ut=(i("a434"),{data:function(){return{datiLinee:[],lineePreferite:[],activeSpinner:!0,shownedEmptyState:!1,showSBremove:!1,testoSnackbar:"",showErrore:!1}},methods:{checkAutenticazione:function(){return o.isLoggedIn()},getImageFromId:function(t){return"Ca"==t?t="CA":"Cr"==t&&(t="CR"),i("4dc1")("./"+t+".png")},returnLineaSingola:function(t){return this.datiLinee.find((function(e){return e.id.id==t}))},addFavoriteLine:function(t,e,i){var a=this;1==e&&x.rimuoviLineaPreferita(t).then((function(){a.lineePreferite.splice(i,1),0==a.lineePreferite.length&&(a.shownedEmptyState=!0),a.showSBremove=!0,a.testoSnackbar=a.returnLineaSingola(t).routeShortName}))}},created:function(){var t=this;if(o.isLoggedIn()){var e=E.getLinee(12),i=x.getLineePreferite();I.a.all([e,i]).then(I.a.spread((function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];t.datiLinee=i[0].data,t.lineePreferite=i[1],t.activeSpinner=!1,0==t.datiLinee.length&&(t.activeSpinner=!1,t.showErrore=!0),0==t.lineePreferite.length&&(t.shownedEmptyState=!0)}))).catch((function(e){console.error(e),t.activeSpinner=!1,t.showErrore=!0}))}}}),pt=ut,ft=Object(d["a"])(pt,mt,lt,!1,null,null,null),gt=ft.exports;a["default"].use(u["a"]);var vt=[{path:"/",redirect:"/pianifica"},{path:"/pianifica",component:U,children:[{path:"viaggio",component:G}]},{path:"/linee",component:Q},{path:"/preferiti",component:gt},{path:"/tariffe",component:at},{path:"/lineaSingola/:id",component:dt},{path:"/accesso",component:b}],ht=new u["a"]({mode:"history",base:"/nextbus_fan/",routes:vt}),bt=ht,zt=i("43f9"),_t=i.n(zt);i("51de"),i("1f9f");a["default"].config.productionTip=!1,a["default"].use(_t.a),a["default"].material.locale.dateFormat="dd/MM/yyyy",a["default"].material.locale.firstDayOfAWeek=1,new a["default"]({router:bt,render:function(t){return t(l)}}).$mount("#app")},5985:function(t,e,i){t.exports=i.p+"img/07R.0538ec75.png"},"5cf2":function(t,e,i){t.exports=i.p+"img/15A.28633738.png"},"60a7":function(t,e,i){"use strict";var a=i("88f3"),n=i.n(a);n.a},"617e":function(t,e,i){t.exports=i.p+"img/08R.6dcf27db.png"},"65bd":function(t,e,i){t.exports=i.p+"img/_A.4782a4a6.png"},"67b3":function(t,e,i){t.exports=i.p+"img/09R.26de841b.png"},7745:function(t,e,i){t.exports=i.p+"img/CR.d9e67c53.png"},"7fce":function(t,e,i){t.exports=i.p+"img/GA.87441928.png"},"84aa":function(t,e,i){t.exports=i.p+"img/CMR.ee586ed0.png"},"85ec":function(t,e,i){},"88f3":function(t,e,i){},8910:function(t,e,i){t.exports=i.p+"img/10A.234d96d4.png"},"91f3":function(t,e,i){t.exports=i.p+"img/04R.9401bae7.png"},"92b6":function(t,e,i){t.exports=i.p+"img/05R.7221459b.png"},"9a89":function(t,e,i){t.exports=i.p+"img/06R.a050b7b1.png"},a27a:function(t,e,i){t.exports=i.p+"img/08A.6d1d2c5c.png"},a689:function(t,e,i){t.exports=i.p+"img/FUTSR.25c8a836.png"},a86c:function(t,e,i){t.exports=i.p+"img/12R.8bcea21a.png"},b07e:function(t,e,i){t.exports=i.p+"img/16A.043459bc.png"},b38c:function(t,e,i){t.exports=i.p+"img/GR.5113adc1.png"},b8d9:function(t,e,i){t.exports=i.p+"img/04A.a2b979c9.png"},b991:function(t,e,i){t.exports=i.p+"img/17R.ff52d047.png"},c020:function(t,e,i){t.exports=i.p+"img/02.3935d542.png"},cc26:function(t,e,i){t.exports=i.p+"img/10R.67cab1bd.png"},cda2:function(t,e,i){t.exports=i.p+"img/12A.19dbe691.png"},d2a0:function(t,e,i){t.exports=i.p+"img/09A.bc827d1f.png"},d3eb:function(t,e,i){t.exports=i.p+"img/NPA.f4fecede.png"},d87d:function(t,e,i){"use strict";var a=i("40d0"),n=i.n(a);n.a},d997:function(t,e,i){t.exports=i.p+"img/06A.17c55556.png"},db8e:function(t,e,i){t.exports=i.p+"img/14A.4dec8330.png"},df5b:function(t,e,i){t.exports=i.p+"img/1A.8a8f7ccf.png"},df65:function(t,e,i){t.exports=i.p+"img/14R.117f73a3.png"},f433:function(t,e,i){t.exports=i.p+"img/05A.a7dbf99e.png"},f69d:function(t,e,i){t.exports=i.p+"img/13R.19c3ad67.png"},f81c:function(t,e,i){t.exports=i.p+"img/03A.02148892.png"},fd78:function(t,e,i){t.exports=i.p+"img/CA.d6f0ac9d.png"}});
//# sourceMappingURL=app.c92e91a3.js.map